// For format details, see https://aka.ms/devcontainer.json. For config options, see the README at:
// https://github.com/microsoft/vscode-dev-containers/tree/v0.224.3/containers/ubuntu
{
    "name": "Ubuntu",
    "build": {
        "dockerfile": "Dockerfile",
        // Update 'VARIANT' to pick an Ubuntu version: hirsute, focal, bionic
        // Use hirsute or bionic on local arm64/Apple Silicon.
        "args": {
            "VARIANT": "focal"
        }
    },
	"customizations": {
		"vscode": {
			"settings": {
			},
			"extensions": [
				"ms-kubernetes-tools.vscode-kubernetes-tools",
				"humao.rest-client"
			]
		}
	},
    "remoteUser": "vscode",
    "features": {
		"ghcr.io/devcontainers/features/docker-in-docker:1": {},
		"ghcr.io/devcontainers/features/kubectl-helm-minikube:1": {},
		"ghcr.io/devcontainers/features/azure-cli:1": {}
    },
    "postCreateCommand": ".devcontainer/post-create.sh",
	"overrideCommand": true,
	"mounts": [
		{
			"source": "dind-var-lib-docker-kind-container",
			"target": "/var/lib/docker",
			"type": "volume"
		}
	]
}